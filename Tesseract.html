<!DOCTYPE html>
<html>
<head>
  <title>Testing Tesseract</title>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <!-- <script src='https://unpkg.com/tesseract.js@v2.0.0-alpha.4/dist/tesseract.min.js'></script> -->
  <!-- Using a free CDN -->
  <script src='https://cdn.rawgit.com/naptha/tesseract.js/1.0.10/dist/tesseract.js'></script>
</head>
<body>
  <h1>Tesseract Testing</h1>

    <div class="container">
      <div class="row">
        <div class="col-sm-12">

        	<video id="video" width="640" height="480" autoplay></video>
<button id="snap">Take a photo!</button>
<canvas id="canvas" width="640" height="480"></canvas>

<!-- ////////Download button,from https://jsfiddle.net/wboykinm/fL0q2uce/////////  -->
    <a id="download">Download Image</a>
       
    <script>

////////Beginning of camera script, gotten from https://davidwalsh.name/browser-camera//////// 
var video = document.getElementById('video');

//Camera
if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
    navigator.mediaDevices.getUserMedia({ video: true }).then(function(stream) {
        video.srcObject = stream;
        video.play();
    });
}
    
//Canvas stuff
var canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d');
var context = canvas.getContext('2d');
var video = document.getElementById('video');
        

//Take a photo
document.getElementById("snap").addEventListener("click", function() {
	context.drawImage(video, 0, 0, 640, 480);
});
////////End of of camera script, gotten from https://davidwalsh.name/browser-camera////////         


////////Start of download image script, gotten from https://jsfiddle.net/wboykinm/fL0q2uce/////////   
function downloadCanvas(link, canvasId, filename) {
    link.href = document.getElementById(canvasId).toDataURL();
    link.download = filename;
}
        
document.getElementById('download').addEventListener('click', function() {
    downloadCanvas(this, 'canvas', 'image.png');
}, false);
////////End of download image script, gotten from https://jsfiddle.net/wboykinm/fL0q2uce/////////   




// Testing script end

    	
    	function step2() {
        var canvas = document.querySelector('#step2 canvas');
        var img = document.querySelector('#step2 img');

        //setup canvas
        canvas.width = pictureWidth;
        canvas.height = pictureHeight;

        var ctx = canvas.getContext('2d');

        //draw picture from video on canvas
        ctx.drawImage(video, 0, 0);

        //modify the picture using glfx.js filters
        texture = fxCanvas.texture(canvas);
        fxCanvas.draw(texture)
            .hueSaturation(-1, -1)//grayscale
            .unsharpMask(20, 2)
            .brightnessContrast(0.2, 0.9)
            .update();

        window.texture = texture;
        window.fxCanvas = fxCanvas;

        $(img)
            //setup the crop utility
            .one('load', function () {
                if (!$(img).data().Jcrop) {
                    $(img).Jcrop({
                        onSelect: function () {
                            //Enable the 'done' button
                            $('#adjust').removeAttr('disabled');
                        }
                    });
                } else {
                    //update crop tool (it creates copies of <img> that we have to update manually)
                    $('.jcrop-holder img').attr('src', fxCanvas.toDataURL());
                }
            })
            //show output from glfx.js
            .attr('src', fxCanvas.toDataURL());
    }

    function step3() {
        var canvas = document.querySelector('#step3 canvas');
        var step2Image = document.querySelector('#step2 img');
        var cropData = $(step2Image).data().Jcrop.tellSelect();

        var scale = step2Image.width / $(step2Image).width();

        //draw cropped image on the canvas
        canvas.width = cropData.w * scale;
        canvas.height = cropData.h * scale;

        var ctx = canvas.getContext('2d');
        ctx.drawImage(
            step2Image,
            cropData.x * scale,
            cropData.y * scale,
            cropData.w * scale,
            cropData.h * scale,
            0,
            0,
            cropData.w * scale,
            cropData.h * scale);

        var spinner = $('.spinner');
        spinner.show();
        $('blockquote p').text('');
        $('blockquote footer').text('');

        // do the OCR!
        Tesseract.recognize(ctx).then(function (result) {
            var resultText = result.text ? result.text.trim() : '';

            //show the result
            spinner.hide();
            $('blockquote p').html('&bdquo;' + resultText + '&ldquo;');
            $('blockquote footer').text('(' + resultText.length + ' characters)');
        });
    }
    	
    </script>
<!----------------- Testing script end ----------------->

        <img src="March.png" alt=" " width="300">

        <hr>

        <span id="progress"></span>
        <h6>Result</h6>         

        <div id="result"></div>

        </div>

      </div>
      
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <!-- <script src="tesseract.js"></script> -->
    <!-- <script>
    	
    	import Tesseract from 'tesseract.js';

        const { TesseractWorker } = Tesseract;
        const worker = new TesseractWorker();

    </script> -->

    <script>
      
      let img = new Image()
      img.src = "March.png"
      img.onload = function(){

        console.log("loaded...", "$$$$");

        Tesseract.recognize(img).progress((progress)=>{

      if(progress.status === "recognizing text"){
      $('#progress').text(progress.progress*100 + "%");
      }

        }).then((result)=>{

        console.log(result, "$$$$");

        $('#result').text(result.text);

        })

      }

    </script>


</body>
</html>

https://kdzwinel.github.io/JS-OCR-demo/